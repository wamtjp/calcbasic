<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>先生用モニター（たし算）</title>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, query, orderBy, onSnapshot } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        // 【ご自身の設定値に書き換えてください】
        const firebaseConfig = {
            apiKey: "AIzaSyAOJnHuUqjc8caecnNu_pkul2ORvzWmox0",
            authDomain: "start01-20260120a-76f80.firebaseapp.com",
            projectId: "start01-20260120a-76f80",
            storageBucket: "start01-20260120a-76f80.firebasestorage.app",
            messagingSenderId: "213284691100",
            appId: "1:213284691100:web:046aa5f86e4cb1a2562159"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        const q = query(collection(db, "study_logs"), orderBy("timestamp", "desc"));
        onSnapshot(q, (snapshot) => {
            const list = document.getElementById("log-list");
            list.innerHTML = "";
            snapshot.forEach((doc) => {
                const data = doc.data();
                const li = document.createElement("li");
                // 「たし算を解きました」という表示に変更
                li.textContent = `${data.student_name}さんが「${data.problem}」を正解しました！2`;
                list.appendChild(li);
            });
        });
    </script>
</head>
<body style="font-family:sans-serif; padding:20px; background:#f0f4f8;">
    <h1>リアルタイム進捗モニター（たし算）</h1>
    <ul id="log-list" style="font-size:1.4rem; line-height:2;"></ul>
</body>
</html>