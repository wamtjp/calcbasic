<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>たし算練習（生徒用）</title>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        // 【ご自身の設定値に書き換えてください】
        const firebaseConfig = {
            apiKey: "AIzaSyAOJnHuUqjc8caecnNu_pkul2ORvzWmox0",
            authDomain: "start01-20260120a-76f80.firebaseapp.com",
            projectId: "start01-20260120a-76f80",
            storageBucket: "start01-20260120a-76f80.firebasestorage.app",
            messagingSenderId: "213284691100",
            appId: "1:213284691100:web:046aa5f86e4cb1a2562159"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        window.sendData = async (name, problem) => {
            try {
                await addDoc(collection(db, "study_logs"), {
                    student_name: name,
                    problem: problem,
                    timestamp: serverTimestamp()
                });
                alert("送信成功！");
            } catch (e) { alert("理由: " + e.message); console.error(e); }
        };
    </script>
</head>
<body style="text-align:center; padding-top:50px; font-family:sans-serif;">
    <h1>たし算練習（1～5）</h1>
    名前：<input type="text" id="name" value="テスト生徒A"><br><br>
    <p style="font-size:3rem; font-weight:bold;">2 + 3 = ?</p>
    <button onclick="sendData(document.getElementById('name').value, '2+3')" 
            style="font-size:1.5rem; padding:15px 30px; cursor:pointer;">正解ボタン</button>
</body>
</html>